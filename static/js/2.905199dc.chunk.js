(this["webpackJsonpcorona-visuals"]=this["webpackJsonpcorona-visuals"]||[]).push([[2],{131:function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"h",(function(){return T}));var r=n(137),a=n.n(r),c=n(138),o=n(47),u=n.n(o),s=n(11),i=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o,i,l,d,f;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:s.a.GETTING_MOST_RECENT_CASE,true_or_false:!0}),c="name"===t?"/most-recent-case-by-name?countryName=".concat(e):"/most-recent-case-by-id?country=".concat(e),n.prev=2,n.next=5,u.a.get(c);case 5:return o=n.sent,i=o.data,l=i.result,r({type:s.a.GET_MOST_RECENT_CASE,result:l}),r({type:s.a.GETTING_MOST_RECENT_CASE,true_or_false:!1}),n.abrupt("return",{success:!0});case 13:return n.prev=13,n.t0=n.catch(2),d=n.t0.response,f=d&&d.data,r({type:s.a.GETTING_MOST_RECENT_CASE,true_or_false:!1}),n.abrupt("return",f);case 19:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(e){return n.apply(this,arguments)}}()},l=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:s.a.CLEAN_ACTIVE_COUNTRY_CASES});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o,i,l,d,f;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:s.a.GETTING_FIRST_CASE,true_or_false:!0}),c="name"===t?"/first-case-by-name?countryName=".concat(e):"/first-case-by-id?country=".concat(e),n.prev=2,n.next=5,u.a.get(c);case 5:return o=n.sent,i=o.data,l=i.result,r({type:s.a.GET_FIRST_CASE,result:l}),r({type:s.a.GETTING_FIRST_CASE,true_or_false:!1}),n.abrupt("return",{success:!0});case 13:return n.prev=13,n.t0=n.catch(2),d=n.t0.response,f=d&&d.data,r({type:s.a.GETTING_FIRST_CASE,true_or_false:!1}),n.abrupt("return",f);case 19:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(e){return n.apply(this,arguments)}}()},f=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:s.a.CLEAN_FIRST_CASE});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o,i,l,d,f;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:s.a.GETTING_FIRST_DEATH,true_or_false:!0}),c="name"===t?"/first-death-by-name?countryName=".concat(e):"/first-death-by-id?country=".concat(e),n.prev=2,n.next=5,u.a.get(c);case 5:return o=n.sent,i=o.data,l=i.result,r({type:s.a.GET_FIRST_DEATH,result:l}),r({type:s.a.GETTING_FIRST_DEATH,true_or_false:!1}),n.abrupt("return",{success:!0});case 13:return n.prev=13,n.t0=n.catch(2),d=n.t0.response,f=d&&d.data,r({type:s.a.GETTING_FIRST_DEATH,true_or_false:!1}),n.abrupt("return",f);case 19:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(e){return n.apply(this,arguments)}}()},m=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:s.a.CLEAN_FIRST_DEATH});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:s.a.GETTING_COUNTRIES,true_or_false:!0}),e.prev=1,e.next=4,u.a.get("/all-countries");case 4:return n=e.sent,r=n.data,c=r.metadata,o=r.results,t({type:s.a.GET_COUNTRIES,countries:o,metadata:c}),t({type:s.a.GETTING_COUNTRIES,true_or_false:!1}),e.abrupt("return",{success:!0});case 12:return e.prev=12,e.t0=e.catch(1),i=e.t0.response,l=i&&i.data,t({type:s.a.GETTING_COUNTRIES,true_or_false:!1}),e.abrupt("return",l);case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,o,i,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:s.a.GETTING_COUNTRY_BY_NAME,true_or_false:!0}),t.prev=1,t.next=4,u.a.get("/country?name=".concat(e));case 4:return r=t.sent,c=r.data,o=c.country,n({type:s.a.GET_COUNTRY_BY_NAME,country:o}),n({type:s.a.GETTING_COUNTRY_BY_NAME,true_or_false:!1}),t.abrupt("return",{success:!0});case 12:return t.prev=12,t.t0=t.catch(1),i=t.t0.response,l=i&&i.data,n({type:s.a.GETTING_COUNTRY_BY_NAME,true_or_false:!1}),t.abrupt("return",l);case 18:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,o,i,l,d,f,p,m;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e._id,c=e.fromDate,o=e.toDate,n({type:s.a.GETTING_ACTIVE_COUNTRY_CASES,true_or_false:!0}),t.prev=2,t.next=5,u.a.get("/cases?country=".concat(r,"&fromDate=").concat(c,"&toDate=").concat(o,"&skip=0&limit=100"));case 5:return i=t.sent,l=i.data,d=l.metadata,f=l.results,n({type:s.a.GET_ACTIVE_COUNTRY_CASES,cases:f,metadata:d}),n({type:s.a.GETTING_ACTIVE_COUNTRY_CASES,true_or_false:!1}),t.abrupt("return",{success:!0});case 13:return t.prev=13,t.t0=t.catch(2),p=t.t0.response,m=p&&p.data,n({type:s.a.GETTING_ACTIVE_COUNTRY_CASES,true_or_false:!1}),t.abrupt("return",m);case 19:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}()},E=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:s.a.CLEAN_ACTIVE_COUNTRY_CASES});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,o,i,l,d,f,p,m,_;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e._id,c=e.name,o=e.fromDate,i=e.toDate,n({type:s.a.GETTING_COUNTRY_IN_VIEW_CASE,true_or_false:!0}),t.prev=2,t.next=5,u.a.get("/cases?country=".concat(r,"&fromDate=").concat(o,"&toDate=").concat(i,"&skip=0&limit=100"));case 5:return l=t.sent,d=l.data,f=d.metadata,p=d.results,n({name:c,metadata:f,cases:p,type:s.a.GET_COUNTRY_IN_VIEW_CASE}),n({type:s.a.GETTING_COUNTRY_IN_VIEW_CASE,true_or_false:!1}),t.abrupt("return",{success:!0});case 13:return t.prev=13,t.t0=t.catch(2),m=t.t0.response,_=m&&m.data,n({type:s.a.GETTING_COUNTRY_IN_VIEW_CASE,true_or_false:!1}),t.abrupt("return",_);case 19:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}()}},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n.n(r),c=n(48),o=function(){return a.a.createElement(c.a,{size:"lg",animation:"border",role:"status",className:"border-spinner"},a.a.createElement("span",{className:"sr-only"},"Loading..."))}},136:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/,a=["January","February","March","April","May","June","July","August","September","October","November","December"],c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=function(e){var t=e%10,n=e%100;switch(!0){case 1===t&&11!==n:return"".concat(e,"st");case 2===t&&12!==n:return"".concat(e,"nd");case 3===t&&13!==n:return"".concat(e,"rd");default:return"".concat(e,"th")}},u=function(e){if(!e)return"Unknown date";if(!e.match(r))return"Invalid timestamp";var t=new Date(e),n=t.getDate(),c=t.getMonth(),u=t.getFullYear();return"".concat(o(n)," ").concat(a[c]," ").concat(u)},s=function(e){if(!e)return"Unknown date";if(!e.match(r))return"Invalid timestamp";var t=new Date(e),n=t.getDate(),a=t.getMonth(),u=t.getFullYear();return"".concat(c[a],"-").concat(o(n),"-").concat(u)},i=function(){return(new Date).toISOString().split("T")[0].replace(/\//g,"-")},l=function(e){return e?new Date(e).toISOString().split("T")[0].replace(/\//g,"-"):"Unknown date"},d=function(e){return e?new Date(e).toISOString():"Unknown date"}},147:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n.n(r),c=n(46),o=n(160),u=n(178),s=n(136),i=function(e){var t=e.data,n=e.dispatch,r={toRef:null,fromRef:null};return a.a.createElement(c.a,{className:"country-page-date-selector"},a.a.createElement(o.a,{className:""},a.a.createElement(o.a.Prepend,{expand:"sm"},a.a.createElement(o.a.Text,null,"Set date range")),a.a.createElement(u.a,{as:"input",type:"date",id:"fromDate",ref:function(e){return r.fromRef=e},min:Object(s.a)("2019-09-01"),value:Object(s.a)(t.fromDate),onChange:function(e){n({type:"SET_FROM_DATE",fromDate:e.target.value}),r.toRef.focus()}}),a.a.createElement(u.a,{id:"toDate",as:"input",type:"date",max:Object(s.e)(),ref:function(e){return r.toRef=e},value:Object(s.a)(t.toDate),onChange:function(e){n({type:"SET_TO_DATE",toDate:e.target.value})}})))}},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n.n(r),c=n(46),o=function(e){var t=e.name,n=e.short_name;return a.a.createElement(c.a,{className:"country-page-flag-container"},a.a.createElement("div",{className:"img64-container"},a.a.createElement("img",{src:"https://www.countryflags.io/".concat(n,"/shiny/64.png"),alt:"Flag"})),a.a.createElement("h2",null,t))}},158:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(46),o=n(133),u=n(10),s=n(179),i={afterDraw:function(e){return function(t,n){var r=t.scales["y-axis-0"],a=t.scales["x-axis-0"],c=t.chartArea;r.ctx.save(),r.ctx.fillStyle=e,r.ctx.globalCompositeOperation="destination-over",r.ctx.fillRect(a.left,r.bottom,a.width,c.bottom),r.ctx.restore()}},beforeDraw:function(){return function(e){var t=e.ctx,n=e.scales["x-axis-0"];e.scales["y-axis-0"];void 0!==n&&(n.options.gridLines.display=!1,n.ticks.forEach((function(e,n){t.save(),t.beginPath(),t.lineWidth=1,t.stroke(),t.restore()})))}}},l={fillSquareLegend:function(e,t){return function(n){return e.map((function(e,n){var r=document.createElement("div"),a=document.createElement("div"),c=document.createElement("span");return r.style.display="flex",r.style.alignItems="center",r.style.paddingLeft="8px",r.style.paddingBottom="5px",a.style.height="15px",a.style.width="15px",a.style.marginLeft="10px",a.style.borderRadius="2px",a.style.marginRight="10px",a.style.background=e,c.textContent=t[n],r.innerHTML=a.outerHTML+c.outerHTML,r.outerHTML})).join("")}}},d=function(e,t,n,r,a,c,o){return{tooltips:{enabled:!1,custom:function(e){var t=document.getElementById("chartjs-tooltip");if(t||((t=document.createElement("div")).id="chartjs-tooltip",t.innerHTML='<div id="'.concat("custom-tooltip-div-id",'"></div>'),document.body.appendChild(t)),0!==e.opacity){if(t.classList.remove("above","below","no-transform"),e.yAlign?t.classList.add(e.yAlign):t.classList.add("no-transform"),e.body){e.title;var r=e.body.map((function(e){return e.lines})),a="";r.forEach((function(t,r){var c=t[r].split(":")[1],o=e.title[0];a+="<div>"+o+"</div>",a+='<div id="value">'+c+"</div>",a+="<div>"+n+"</div>"})),t.querySelector("#custom-tooltip-div-id").innerHTML=a}var c=this._chart,o=c.canvas.getBoundingClientRect(),u=c.canvas;t.style.opacity=1,t.style.position="absolute",t.style.fontFamily=e._bodyFontFamily,t.style.fontSize=e.bodyFontSize+"px",t.style.fontStyle=e._bodyFontStyle,t.style.left=o.left+window.pageXOffset+e.caretX+"px",t.style.top=o.top+window.pageYOffset+e.caretY-u.height/10+"px",t.style.padding=e.yPadding+"px "+e.xPadding+"px",t.style.pointerEvents="none"}else t.style.opacity=0}},title:{display:!0},legend:{display:!1},scales:{xAxes:[{ticks:{fontColor:r,fontSize:14,display:!0,maxRotation:0,maxTicksLimit:5,callback:function(e,t,n){return e.split("-")}},gridLines:{drawBorder:!1,drawOnChartArea:!1},scaleLabel:{labelString:e}}],yAxes:[{display:!0,ticks:{min:0,fontColor:r,fontSize:14,maxTicksLimit:5,beginAtZero:!0},gridLines:{drawBorder:!0,drawOnChartArea:!0},scaleLabel:{labelString:t}}]}}},f=a.a.memo((function(e){var t=Object(r.useRef)(),n=e.dataSets,c=e.fontColor,o=e.xAxisScale,f=e.yAxisLabel,p=e.legendLabel,m=e.tooltipLabel,_=e.legendContainerId;return Object(r.useEffect)((function(){var e=document.getElementById(_);if(t&&e){var n=t.current.chartInstance.generateLegend();e.innerHTML=n}}),[t,_]),s.a.plugins.register({beforeDraw:i.beforeDraw()}),a.a.createElement(s.b,{width:200,height:75,ref:function(e){return t.current=e},data:{labels:o,datasets:n},options:Object(u.a)({},d("Number of Covid19 cases",f,m,c),{legendCallback:l.fillSquareLegend([c],[p])})})}));t.a=function(e){var t=e.xAxis,n=e.spinner,r=e.dataSets,u=e.fontColor,s=e.graphLabel,i=e.yAxisLabel,l=e.legendLabel,d=e.tooltipLabel,p=e.legendContainerId;return a.a.createElement(c.a,{className:"graph-grid-child mt-4"},a.a.createElement(c.a,{className:"chart-header"},a.a.createElement("div",{className:"chart-title"},a.a.createElement("h3",null,s)),a.a.createElement("div",{className:"graph-selector-container"})),n?a.a.createElement(o.a,null):a.a.createElement(c.a,{className:"line-chart-container"},a.a.createElement("div",{className:"left-aligned-legend"},a.a.createElement("div",{id:p,className:"mt-4"})),a.a.createElement(c.a,null,a.a.createElement(f,{xAxisScale:t,dataSets:r,fontColor:u,yAxisLabel:i,legendLabel:l,tooltipLabel:d,legendContainerId:p}))))}},159:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(0),a=n(31),c=n(10),o=n(136),u=function(e,t){switch(t.type){case"SET_FROM_DATE":return Object(c.a)({},e,{fromDate:Object(o.b)(t.fromDate)});case"SET_TO_DATE":return Object(c.a)({},e,{toDate:Object(o.b)(t.toDate)});default:return e}},s=n(177),i=n(131),l=function(){var e={toDate:Object(o.b)(new Date),fromDate:Object(o.b)(new Date("2019-12-01"))};return Object(r.useReducer)(u,e)},d=function(e,t){var n=Object(a.useDispatch)(),c=Object(r.useRef)([]),u=Object(r.useRef)([]),l=Object(r.useRef)([]),d=Object(r.useRef)([]),f=Object(a.useSelector)((function(e){return e.cont})).activeCountryCases;Object(r.useEffect)((function(){return t&&Object(i.e)({_id:t,toDate:e.toDate,fromDate:e.fromDate})(n),function(){c.current=[],u.current=[],l.current=[],d.current=[],Object(i.a)()(n)}}),[t,e,n]),Object(r.useEffect)((function(){f.forEach((function(e){var t=e.recordDate,n=e.new_cases,r=e.new_deaths,a=e.total_cases,o=e.total_deaths;c.current.push({new_cases:n,recordDate:t}),u.current.push({new_deaths:r,recordDate:t}),l.current.push({total_cases:a,recordDate:t}),d.current.push({total_deaths:o,recordDate:t})}))}),[f]);var p=l.current.map((function(e){return Object(o.c)(e.recordDate)})),m=c.current.map((function(e){return Object(o.c)(e.recordDate)})),_=d.current.map((function(e){return Object(o.c)(e.recordDate)})),b=u.current.map((function(e){return Object(o.c)(e.recordDate)})),y={fill:!0,lineTension:0,pointRadius:0,pointHitRadius:15,label:"Total cases",borderColor:s.b.warning,backgroundColor:s.a.warning,data:l.current.map((function(e){return window.Number(e.total_cases)}))},E={fill:!0,lineTension:0,pointRadius:0,pointHitRadius:15,label:"New cases",borderColor:s.b.success,backgroundColor:s.a.success,data:c.current.map((function(e){return window.Number(e.new_cases)}))},T={fill:!0,lineTension:0,pointRadius:0,pointHitRadius:15,label:"Total deaths",borderColor:s.b.danger,backgroundColor:s.a.danger,data:d.current.map((function(e){return window.Number(e.total_deaths)}))},v={fill:!0,lineTension:0,pointRadius:0,pointHitRadius:15,label:"New deaths",borderColor:s.b.primary,backgroundColor:s.a.primary,data:u.current.map((function(e){return window.Number(e.new_deaths)}))};return[{newCasesData:E,newCasesXAxis:m,newCasesFC:E.borderColor},{newDeathsData:v,newDeathsXAxis:b,newDeathsFC:v.borderColor},{totalCasesData:y,totalCasesXAxis:p,totalCasesFC:y.borderColor},{totalDeathsData:T,totalDeathsXAxis:_,totalDeathsFC:T.borderColor}]}},177:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r={primary:"#599699",success:"#f1a54d",warning:"#91d302",danger:"#0266cb"},a={primary:"#070707",success:"#1e3b9e",warning:"#4b5579",danger:"#b7000d"}}}]);
//# sourceMappingURL=2.905199dc.chunk.js.map