(this["webpackJsonpcorona-visuals"]=this["webpackJsonpcorona-visuals"]||[]).push([[5],{130:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return f}));var n=a(134),r=a.n(n),o=a(135),c=a(46),s=a.n(c),i=a(16),l=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,o,c,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:i.a.GETTING_COUNTRIES,true_or_false:!0}),e.prev=1,e.next=4,s.a.get("/all-countries");case 4:return a=e.sent,n=a.data,o=n.metadata,c=n.results,t({type:i.a.GET_COUNTRIES,countries:c,metadata:o}),t({type:i.a.GETTING_COUNTRIES,true_or_false:!1}),e.abrupt("return",{success:!0});case 12:return e.prev=12,e.t0=e.catch(1),l=e.t0.response,u=l&&l.data,t({type:i.a.GETTING_COUNTRIES,true_or_false:!1}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},u=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o,c,l,u,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:i.a.GETTING_COUNTRY_CASES,true_or_false:!0}),t.prev=1,t.next=4,s.a.get("/cases?country=".concat(e,"&skip=0&limit=100"));case 4:return n=t.sent,o=n.data,c=o.metadata,l=o.results,a({type:i.a.GET_COUNTRY_CASES,cases:l,metadata:c}),a({type:i.a.GETTING_COUNTRY_CASES,true_or_false:!1}),t.abrupt("return",{success:!0});case 12:return t.prev=12,t.t0=t.catch(1),u=t.t0.response,d=u&&u.data,a({type:i.a.GETTING_COUNTRY_CASES,true_or_false:!1}),t.abrupt("return",d);case 18:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:i.a.CLEAN_GET_COUNTRY_CASES});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o,c,l,u,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:i.a.GETTING_CASES_BY_COUNTRY_NAME,true_or_false:!0}),t.prev=1,t.next=4,s.a.get("/cases?countryName=".concat(e,"&skip=0&limit=100"));case 4:return n=t.sent,o=n.data,c=o.metadata,l=o.results,a({type:i.a.GET_CASES_BY_COUNTRY_NAME,cases:l,metadata:c}),a({type:i.a.GETTING_CASES_BY_COUNTRY_NAME,true_or_false:!1}),t.abrupt("return",{success:!0});case 12:return t.prev=12,t.t0=t.catch(1),u=t.t0.response,d=u&&u.data,a({type:i.a.GETTING_CASES_BY_COUNTRY_NAME,true_or_false:!1}),t.abrupt("return",d);case 18:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()}},131:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a.n(n),o=a(47),c=function(){return r.a.createElement(o.a,{size:"lg",animation:"border",role:"status",className:"border-spinner"},r.a.createElement("span",{className:"sr-only"},"Loading..."))}},143:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n={info:"#d1ebf1",primary:"#cce5ff",success:"#d4edda",danger:"#f8d6da",warning:"#fff3cd"},r={primary:"#004085",success:"#155724",info:"#0c5460",warning:"#856404",danger:"#721c24"}},144:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a.n(n),o=a(45),c=function(e){var t=e.name,a=e.short_name;return r.a.createElement(o.a,{className:"country-page-flag-container"},r.a.createElement("div",{className:"img64-container"},r.a.createElement("img",{src:"https://www.countryflags.io/".concat(a,"/shiny/64.png"),alt:"Flag"})),r.a.createElement("h2",null,t))}},154:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(45),c=a(131),s=a(18),i=a(155),l=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/,u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=function(e){var t=e%10,a=e%100;switch(!0){case 1===t&&11!==a:return"".concat(e,"st");case 2===t&&12!==a:return"".concat(e,"nd");case 3===t&&13!==a:return"".concat(e,"rd");default:return"".concat(e,"th")}},f=function(e){return e.map((function(e){return function(e){if(!e)return"Unknown date";if(!e.match(l))return"Invalid timestamp";var t=new Date(e),a=t.getDate(),n=t.getMonth(),r=t.getFullYear();return"".concat(u[n],"-").concat(d(a),"-").concat(r)}(e.recordDate)}))},p={afterDraw:function(e){return function(t,a){var n=t.scales["y-axis-0"],r=t.scales["x-axis-0"],o=t.chartArea;n.ctx.save(),n.ctx.fillStyle=e,n.ctx.globalCompositeOperation="destination-over",n.ctx.fillRect(r.left,n.bottom,r.width,o.bottom),n.ctx.restore()}},beforeDraw:function(){return function(e){var t=e.ctx,a=e.scales["x-axis-0"];e.scales["y-axis-0"];void 0!==a&&(a.options.gridLines.display=!1,a.ticks.forEach((function(e,a){t.save(),t.beginPath(),t.lineWidth=1,t.stroke(),t.restore()})))}}},b={fillSquareLegend:function(e,t){return function(a){return e.map((function(e,a){var n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("span");return n.style.display="flex",n.style.alignItems="center",n.style.paddingLeft="8px",n.style.paddingBottom="5px",r.style.height="15px",r.style.width="15px",r.style.marginLeft="10px",r.style.borderRadius="2px",r.style.marginRight="10px",r.style.background=e,o.textContent=t[a],n.innerHTML=r.outerHTML+o.outerHTML,n.outerHTML})).join("")}}},m=function(e,t,a,n,r,o,c){return{tooltips:{enabled:!1,custom:function(e){var t=document.getElementById("chartjs-tooltip");if(t||((t=document.createElement("div")).id="chartjs-tooltip",t.innerHTML='<div id="'.concat("custom-tooltip-div-id",'"></div>'),document.body.appendChild(t)),0!==e.opacity){if(t.classList.remove("above","below","no-transform"),e.yAlign?t.classList.add(e.yAlign):t.classList.add("no-transform"),e.body){e.title;var n=e.body.map((function(e){return e.lines})),r="";n.forEach((function(e,t){var n=e[t].split(":")[1];r+='<div id="value">'+n+"</div>",r+="<div>"+a+"</div>"})),t.querySelector("#custom-tooltip-div-id").innerHTML=r}var o=this._chart,c=o.canvas.getBoundingClientRect(),s=o.canvas;t.style.opacity=1,t.style.position="absolute",t.style.fontFamily=e._bodyFontFamily,t.style.fontSize=e.bodyFontSize+"px",t.style.fontStyle=e._bodyFontStyle,t.style.left=c.left+window.pageXOffset+e.caretX+"px",t.style.top=c.top+window.pageYOffset+e.caretY-s.height/10+"px",t.style.padding=e.yPadding+"px "+e.xPadding+"px",t.style.pointerEvents="none"}else t.style.opacity=0}},title:{display:!0},legend:{display:!1},scales:{xAxes:[{ticks:{fontSize:12,display:!0,maxTicksLimit:5,maxRotation:0,fontColor:n,callback:function(e,t,a){return e.split("-")}},gridLines:{drawBorder:!1,drawOnChartArea:!1},scaleLabel:{labelString:e}}],yAxes:[{display:!0,ticks:{min:0,maxTicksLimit:5,beginAtZero:!0},gridLines:{drawBorder:!0,drawOnChartArea:!0},scaleLabel:{labelString:t}}]}}},g=r.a.memo((function(e){var t=Object(n.useRef)(),a=e.dataPoints,o=e.yAxisLabel,c=e.graphLabel,l=e.legendLabel,u=e.borderColor,d=e.tooltipLabel,g=e.backgroundColor,y=e.legendContainerId,h=a.map((function(e){return window.Number(e.qut)}));return Object(n.useEffect)((function(){var e=document.getElementById(y);if(t&&e){var a=t.current.chartInstance.generateLegend();e.innerHTML=a}}),[t,y]),i.a.plugins.register({beforeDraw:p.beforeDraw()}),r.a.createElement(i.b,{width:200,height:75,ref:function(e){return t.current=e},data:{labels:f(a),datasets:[{fill:!0,lineTension:0,pointRadius:0,data:h,label:c,borderColor:u,backgroundColor:g}]},options:Object(s.a)({},m("Number of Covid19 cases",o,d,u),{legendCallback:b.fillSquareLegend([u],[l])})})}));t.a=function(e){var t=e.spinner,a=e.graphLabel,n=e.dataPoints,s=e.yAxisLabel,i=e.legendLabel,l=e.borderColor,u=e.tooltipLabel,d=e.backgroundColor,f=e.legendContainerId;return r.a.createElement(o.a,{className:"graph-grid-child mt-5"},r.a.createElement(o.a,{className:"chart-header"},r.a.createElement("div",{className:"chart-title"},r.a.createElement("h3",null,a)),r.a.createElement("div",{className:"graph-selector-container"})),t?r.a.createElement(c.a,null):r.a.createElement(o.a,{className:"line-chart-container"},r.a.createElement("div",{className:"left-aligned-legend"},r.a.createElement("div",{id:f,className:"mt-4"})),r.a.createElement(o.a,null,r.a.createElement(g,{dataPoints:n,yAxisLabel:s,graphLabel:a,borderColor:l,legendLabel:i,tooltipLabel:u,backgroundColor:d,legendContainerId:f}))))}},268:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),c=a(45),s=a(130),i=a(143),l=a(144),u=a(154);t.default=function(){var e=Object(o.useDispatch)(),t=Object(o.useSelector)((function(e){return e.cont})),a=t.countryCases,d=t.gettingCasesByCountryName,f=Object(n.useRef)([]),p=Object(n.useRef)([]),b=Object(n.useRef)([]),m=Object(n.useRef)([]);return Object(n.useEffect)((function(){return Object(s.b)("World")(e),function(){f.current=[],p.current=[],b.current=[],m.current=[],Object(s.a)()(e)}}),[e]),Object(n.useEffect)((function(){a.forEach((function(e){var t=e.new_cases,a=e.new_deaths,n=e.total_cases,r=e.total_deaths,o=e.recordDate;f.current.push({qut:t,recordDate:o}),p.current.push({qut:a,recordDate:o}),b.current.push({qut:n,recordDate:o}),m.current.push({qut:r,recordDate:o})}))}),[a]),r.a.createElement(c.a,{className:"country-graph-page"},r.a.createElement(l.a,{name:"World",short_name:""}),r.a.createElement(u.a,{tooltipLabel:"Cases",graphLabel:"Total cases",dataPoints:b.current,legendContainerId:"total-cases",borderColor:i.b.warning,backgroundColor:i.a.warning,spinner:d,legendLabel:"Total cases of Covid19",yAxisLabel:"Total number of Covid19 cases"}),r.a.createElement(u.a,{tooltipLabel:"Cases",graphLabel:"New cases",dataPoints:f.current,legendContainerId:"new-cases",borderColor:i.b.success,backgroundColor:i.a.success,spinner:d,legendLabel:"New cases of Covid19",yAxisLabel:"Number of new Covid19 cases"}),r.a.createElement(u.a,{tooltipLabel:"Deaths",graphLabel:"Total deaths",dataPoints:m.current,borderColor:i.b.danger,backgroundColor:i.a.danger,legendContainerId:"total-deaths",spinner:d,legendLabel:"Total deaths from Covid19",yAxisLabel:"Total number of Covid19 deaths"}),r.a.createElement(u.a,{tooltipLabel:"Deaths",graphLabel:"New deaths",dataPoints:p.current,borderColor:i.b.info,backgroundColor:i.a.info,legendContainerId:"new-deaths",spinner:d,legendLabel:"New deaths from Covid19",yAxisLabel:"Number of new Covid19 deaths"}))}}}]);
//# sourceMappingURL=5.80a6b9a7.chunk.js.map